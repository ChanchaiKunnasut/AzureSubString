<html>
<head>
  <link rel='stylesheet' href='https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css'>
  <link rel='stylesheet' href='https://unpkg.com/formiojs@latest/dist/formio.full.min.css'>
  <script src='https://unpkg.com/formiojs@latest/dist/formio.full.min.js'></script>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
  <script type='text/javascript'>
    window.onload = function () {
      Formio.createForm(document.getElementById('formio'), {
        "_id": "59b0f9ce6d85560007c28250",
        "machineName": "rafojdfesfcddtg:demoIndex",
        "modified": "2017-09-12T04:05:48.796Z",
        "title": "Demo Index",
        "display": "form",
        "name": "demoIndex",
        "path": "demo",
        "project": "59b0f89b6d85560007c2820a",
        "created": "2017-09-07T07:48:30.276Z",
        "components": [
          {
            "input": true,
            "tableView": true,
            "inputType": "text",
            "inputMask": "",
            "label": "String",
            "key": "string",
            "placeholder": "String",
            "prefix": "",
            "suffix": "",
            "multiple": false,
            "defaultValue": "",
            "protected": false,
            "unique": false,
            "persistent": true,
            "hidden": false,
            "clearOnHide": true,
            "validate": {
              "customPrivate": false,
              "custom": "",
              "pattern": "",
              "maxLength": "",
              "minLength": "",
              "required": false
            },
            "conditional": {
              "eq": "",
              "when": null,
              "show": ""
            },
            "type": "textfield",
            "tags": [],
            "properties": {
              "": ""
            },
            "description": ""
          },
          {
            "input": true,
            "tableView": true,
            "inputType": "text",
            "inputMask": "",
            "label": "Index",
            "key": "index",
            "placeholder": "Index",
            "prefix": "",
            "suffix": "",
            "multiple": false,
            "defaultValue": "",
            "protected": false,
            "unique": false,
            "persistent": true,
            "hidden": false,
            "clearOnHide": true,
            "validate": {
              "customPrivate": false,
              "custom": "",
              "pattern": "",
              "maxLength": "",
              "minLength": "",
              "required": false
            },
            "conditional": {
              "eq": "",
              "when": null,
              "show": ""
            },
            "type": "textfield",
            "tags": [],
            "properties": {
              "": ""
            }
          },
          {
            "input": true,
            "tableView": true,
            "inputType": "text",
            "inputMask": "",
            "label": "Result",
            "key": "result",
            "placeholder": "Result",
            "prefix": "",
            "suffix": "",
            "multiple": false,
            "defaultValue": "",
            "protected": false,
            "unique": false,
            "persistent": true,
            "hidden": false,
            "clearOnHide": true,
            "validate": {
              "customPrivate": false,
              "custom": "",
              "pattern": "",
              "maxLength": "",
              "minLength": "",
              "required": false
            },
            "conditional": {
              "eq": "",
              "when": null,
              "show": ""
            },
            "type": "textfield",
            "tags": [],
            "properties": {
              "": ""
            }
          },
          {
            "input": true,
            "label": "Submit",
            "tableView": false,
            "key": "submit",
            "size": "md",
            "leftIcon": "",
            "rightIcon": "",
            "block": false,
            "action": "submit",
            "disableOnInvalid": false,
            "theme": "primary",
            "type": "button",
            "isNew": false,
            "tags": [],
            "conditional": {
              "eq": "",
              "when": null,
              "show": ""
            },
            "properties": {
              "": ""
            }
          }
        ],
        "owner": "59b0f49b6d85560007c281e1",
        "submissionAccess": [],
        "access": [
          {
            "type": "read_all",
            "roles": [
              "59b0f89c6d85560007c2820b",
              "59b0f89c6d85560007c2820c",
              "59b0f89c6d85560007c2820d"
            ]
          }
        ],
        "tags": [],
        "type": "form"
      }).then(function(form){
        form.on('submit', function(submission) {
          var url = 'https://apimanament.azure-api.net/left/left?str=';
          url += submission.data.string;
          url += '&x=';
          url += submission.data.index;
          $.ajax({
            url: url,
            beforeSend: function(xhrObj){
              // Request Header
            },
            type: "GET"
          }).done(function(data){
            alert(JSON.stringify(data))
	form.submission ={ data: {

		result: JSON.stringify(data.result)
  }
};
          }).fail(function(err){
            console.log(err)
          });
        console.log(submission);
        });
    });
    }
  </script>
</head>

<body>
  <div id='formio'></div>
</body>
</html>